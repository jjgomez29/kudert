<html>

 <head>

  <script src="datos.txt"></script>

  <script type="text/javascript">
            function padNmb(nStr, nLen) {
                var sRes = String(nStr);
                var sCeros = "0000000000";
                return sCeros.substr(0, nLen - sRes.length) + sRes;
            }
 
            function stringToSeconds(tiempo) {
                var sep1 = tiempo.indexOf(":");
                var sep2 = tiempo.lastIndexOf(":");
                var hor = tiempo.substr(0, sep1);
                var min = tiempo.substr(sep1 + 1, sep2 - sep1 - 1);
                var sec = tiempo.substr(sep2 + 1);
                return (Number(sec) + (Number(min) * 60) + (Number(hor) * 3600));
            }
 
            function secondsToTime(secs) {
                var hor = Math.floor(secs / 3600);
                var min = Math.floor((secs - (hor * 3600)) / 60);
                var sec = secs - (hor * 3600) - (min * 60);
                return padNmb(hor, 2) + ":" + padNmb(min, 2) + ":" + padNmb(sec, 2);
            }
 
            function substractTimes(t1, t2) {
                var secs1 = stringToSeconds(t1);
                var secs2 = stringToSeconds(t2);
                var secsDif = secs1 + secs2;
                return secondsToTime(secsDif);
            }

             function cargarDatos(){

              var inicio='09:00:00';
              var fin='05:00:00';
              var Curso;
              var totalminutos=0;
              var turno=false;

               for (var i = 1; i <= Total.replace(/[^\d]/g, ''); i++) {
                
                Curso="Curso"+i;
                document.getElementById("Campo"+i).innerText=eval(Curso);
                var minutos=eval(Curso).replace(/[^\d]/g, '');
                totalminutos+=parseInt(minutos);
               
               if(totalminutos <= 180){
    
                if(i==1){

                var horario=inicio;
               
                }else{

                var horario=next;

                }
              
                next=substractTimes(horario,'00:'+minutos+':00');
                document.getElementById("Horario"+i).innerText='Horario='+horario+'AM';

              }

              if(totalminutos > 180 && totalminutos <=420){
                 
                if(turno==false){
                var horario='01:00:00';

                }else{
                  
                var horario=next;

                }

                next=substractTimes(horario,'00:'+minutos+':00');
                document.getElementById("Horario"+i).innerText='Horario='+horario+'PM';
                var turno= true;
                document.getElementById("dia").innerText='Dia 1';

              }          
                //alert(next);

                }
             }

  
  </script>

 </head>

 <body onload="cargarDatos()">
 
  <a id="CampoEnlace">Curso Registrados</a><br/><br/>

 <script type="text/javascript">
 


 document.write("<table>");
 document.write("<tr><td id='dia'></td></tr>");
 for (i=1;i<=Total.replace(/[^\d]/g, '');i++)
 { 
  document.write("<tr><td id='Horario"+i+"'></td><td id='Campo"+i+"'></td></tr>");
 }
 document.write("</table>");

</script>


 </body>

</html>